{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","returnObj","getAll","axios","get","then","response","data","create","newObject","post","deleteNumber","id","delete","update","put","Entry","person","DeletePerson","name","number","onClick","window","confirm","Filter","value","onChange","Notification","message","notificationStyle","color","fontStyle","fontSize","padding","background","border","borderRadius","margin","text","className","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","phonebookService","initialNumbers","updatePerson","existing","find","p","returnedPerson","map","catch","error","filter","newPerson","returned","concat","onDeletePerson","event","target","onSubmit","preventDefault","some","entry","type","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8246afe3.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst deleteNumber = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst returnObj = { getAll, create, deleteNumber, update }\r\n\r\nexport default returnObj\r\n","import React, { useState, useEffect } from 'react'\r\nimport phonebookService from './services/phonebook'\r\n\r\nconst Entry = ({ person, DeletePerson }) => {\r\n  return (\r\n    <div>{person.name} {person.number} <button onClick={() => { if (window.confirm(`Delete ${person.name}`)) DeletePerson(person.id) }}>delete</button></div>\r\n  )\r\n}\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with: <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  const notificationStyle = {\r\n    color: message.color,\r\n    fontStyle: 'bold',\r\n    fontSize: 24,\r\n    padding: 8,\r\n    background: '#b4b2ba',\r\n    border: `${message.color} solid 3px`,\r\n    borderRadius: 4,\r\n    margin: 4,\r\n  }\r\n  if (message.text === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"message\" style={notificationStyle}>\r\n      {message.text}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newFilter, setNewFilter] = useState('')\r\n  const [message, setMessage] = useState({ text: null })\r\n\r\n  useEffect(() => {\r\n    phonebookService\r\n      .getAll().then(initialNumbers => {\r\n        setPersons(initialNumbers)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = { name: newName, number: newNumber }\r\n    persons.some(entry => entry.name === person.name)\r\n      ? updatePerson(person)\r\n      : newPerson(person)\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const updatePerson = person => {\r\n    const existing = persons.find(p => p.name === person.name)\r\n    if (window.confirm(`${person.name} is already added to phone book! Do you want to update the number?`)) {\r\n      phonebookService.update(existing.id, person).then(returnedPerson => {\r\n        setPersons(persons.map(p => p.id !== existing.id ? p : returnedPerson))\r\n        setMessage({ text: `Updated ${existing.name} number's to ${person.number}`, color: 'green' })\r\n      })\r\n        .catch(error => {\r\n          setMessage(\r\n            { text: `Information on ${existing.name} has been already removed from server`, color: 'red' }\r\n          )\r\n          setPersons(persons.filter(p => p.id !== existing.id))\r\n        })\r\n    }\r\n  }\r\n\r\n  const newPerson = person => {\r\n    phonebookService.create(person).then(returned => setPersons(persons.concat(returned)))\r\n    setMessage({ text: `Added ${person.name}`, color: 'green' })\r\n  }\r\n\r\n  const fitlerPeople = () => {\r\n    return persons.filter(entry => entry.name.toLowerCase().includes(newFilter.toLowerCase()))\r\n  }\r\n\r\n  const onDeletePerson = (id) => {\r\n    phonebookService.deleteNumber(id)\r\n    setPersons(persons.filter(p => p.id !== id))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      < Filter value={newFilter} onChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange} />\r\n          <div>\r\n            number: <input value={newNumber} onChange={handleNumberChange} />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      {fitlerPeople().map(person =>\r\n        <Entry key={person.name} person={person} DeletePerson={onDeletePerson} />\r\n      )}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}